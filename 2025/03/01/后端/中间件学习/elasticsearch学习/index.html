<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>elasticsearch学习 | Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="Elasticsearch学习 官方文档，学习过程中遇到任何问题首先是尝试从官方文档中查找解决方法，同时也可以加深自己对技术特性的了解  Elasticsearch 生态丰富elasticsearch 生态丰富，包含一系列工具和功能，帮助用户处理、分析和可视化数据， 核心组成为：  Elasticsearch：核心搜索引擎，负责存储、索引和搜索数据 Kibana：可视化平台、用于查询、分析和展示">
<meta property="og:type" content="article">
<meta property="og:title" content="elasticsearch学习">
<meta property="og:url" content="http://example.com/2025/03/01/%E5%90%8E%E7%AB%AF/%E4%B8%AD%E9%97%B4%E4%BB%B6%E5%AD%A6%E4%B9%A0/elasticsearch%E5%AD%A6%E4%B9%A0/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="Elasticsearch学习 官方文档，学习过程中遇到任何问题首先是尝试从官方文档中查找解决方法，同时也可以加深自己对技术特性的了解  Elasticsearch 生态丰富elasticsearch 生态丰富，包含一系列工具和功能，帮助用户处理、分析和可视化数据， 核心组成为：  Elasticsearch：核心搜索引擎，负责存储、索引和搜索数据 Kibana：可视化平台、用于查询、分析和展示">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://blog-caigui88.oss-cn-shenzhen.aliyuncs.com/imgs/202503011219736.png">
<meta property="og:image" content="https://blog-caigui88.oss-cn-shenzhen.aliyuncs.com/imgs/202503011225501.png">
<meta property="og:image" content="https://blog-caigui88.oss-cn-shenzhen.aliyuncs.com/imgs/202503011225011.png">
<meta property="og:image" content="https://blog-caigui88.oss-cn-shenzhen.aliyuncs.com/imgs/202503011225452.png">
<meta property="og:image" content="https://blog-caigui88.oss-cn-shenzhen.aliyuncs.com/imgs/202503011225028.png">
<meta property="og:image" content="https://blog-caigui88.oss-cn-shenzhen.aliyuncs.com/imgs/202503011226058.png">
<meta property="article:published_time" content="2025-03-01T03:35:47.079Z">
<meta property="article:modified_time" content="2025-03-01T04:26:11.308Z">
<meta property="article:author" content="John Doe">
<meta property="article:tag" content="elasticsearch">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://blog-caigui88.oss-cn-shenzhen.aliyuncs.com/imgs/202503011219736.png">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
  
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/fork-awesome@1.2.0/css/fork-awesome.min.css">

<meta name="generator" content="Hexo 7.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"><span class="fa fa-bars"></span></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
        
          <a class="nav-icon" href="/atom.xml" title="RSS Feed"><span class="fa fa-rss"></span></a>
        
        <a class="nav-icon nav-search-btn" title="Search"><span class="fa fa-search"></span></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-后端/中间件学习/elasticsearch学习" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2025/03/01/%E5%90%8E%E7%AB%AF/%E4%B8%AD%E9%97%B4%E4%BB%B6%E5%AD%A6%E4%B9%A0/elasticsearch%E5%AD%A6%E4%B9%A0/" class="article-date">
  <time class="dt-published" datetime="2025-03-01T03:35:47.079Z" itemprop="datePublished">2025-03-01</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="p-name article-title" itemprop="headline name">
      elasticsearch学习
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="Elasticsearch学习"><a href="#Elasticsearch学习" class="headerlink" title="Elasticsearch学习"></a>Elasticsearch学习</h1><blockquote>
<p><a target="_blank" rel="noopener" href="https://www.elastic.co/docs">官方文档</a>，学习过程中遇到任何问题首先是尝试从官方文档中查找解决方法，同时也可以加深自己对技术特性的了解</p>
</blockquote>
<h2 id="Elasticsearch-生态丰富"><a href="#Elasticsearch-生态丰富" class="headerlink" title="Elasticsearch 生态丰富"></a>Elasticsearch 生态丰富</h2><p>elasticsearch 生态丰富，包含一系列工具和功能，帮助用户处理、分析和可视化数据，</p>
<p>核心组成为：</p>
<ul>
<li>Elasticsearch：核心搜索引擎，负责存储、索引和搜索数据</li>
<li>Kibana：可视化平台、用于查询、分析和展示 Elasticsearch 中的数据</li>
<li>Logstash：数据处理管道，负责数据收集、过滤、增强和传输到 Elasticsearch。</li>
<li>Beats：轻量级的数据传输工具，收集和发生数据到 Logstash 或 Elasticsearch</li>
</ul>
<h2 id="核心概念"><a href="#核心概念" class="headerlink" title="核心概念"></a>核心概念</h2><ul>
<li><strong>索引 index</strong>：类似于关系型数据库中的表，索引是数据存储和搜索的 <strong>基本单位</strong>，每个索引可以存储多条文档数据</li>
<li><strong>文档 document</strong>：索引中的每条记录，类似于数据库中的行。以 json 格式存储</li>
<li><strong>字段 field</strong>：文档中的每个键值对，类似于数据库中的列。</li>
<li><strong>映射 mapping</strong>：（类似于 sql 建表语句）用于定义 Elasticsearch 索引中文档字段的数据类型及其处理方式，类似于关系型数据库中的 Schema 表结构，帮助控制字段的存储、索引和查询行为。</li>
<li><strong>集群 cluster</strong>：多个节点组成的群集，用于存储数据并提供搜索功能。集群中的每个节点都可以处理数据。</li>
<li><strong>分片 shard</strong>：为了实现横向扩展，ES 将索引拆分成多个分片，每个分片可以分布在不同节点上。</li>
<li><strong>副本 replica</strong>：分片的复制品，用于提高可用性和容错性。</li>
</ul>
<h2 id="全文检索（分词检索）的原理"><a href="#全文检索（分词检索）的原理" class="headerlink" title="全文检索（分词检索）的原理"></a>全文检索（分词检索）的原理</h2><ol>
<li>分词：Elasticsearch 的分词器会将输入文本拆解为独立的词条（tokens），方便进行索引和搜索，分词的具体步骤：<ul>
<li><strong>字符过滤</strong>：去除特殊字符、HTML 标签或进行其他文本清理。</li>
<li>分词：根据指定的分词器（analyzer），将文本按规则拆分为一个个词条，如：英文可以按空格、中文使用专门的分词器处理</li>
<li><strong>词汇过滤</strong>：对分词结果进行过滤，如：去掉停用词（无意义的词，如：“the”，“is”等）或进行词形归并（如：将动词变为原形）。</li>
</ul>
</li>
</ol>
<p>Elasticsearch 内置了很多分词器，比如按照空格分词等，默认只支持英文，详见<a target="_blank" rel="noopener" href="https://www.elastic.co/docs">官方文档</a>。</p>
<ol start="2">
<li>倒排索引：</li>
</ol>
<p>倒排索引是 Elasticsearch 实现高效搜索的核心数据结构。将文档中的词条映射到文档 ID ，实现快速查找。</p>
<p>原理：</p>
<ul>
<li>每个文档在被索引时，分词器会将文档内容拆解为多个词条。</li>
<li>而后，Elasticsearch 为每个词条生成一个倒排索引，记录该词条在哪些文档中出现。</li>
</ul>
<h2 id="打分规则"><a href="#打分规则" class="headerlink" title="打分规则"></a>打分规则</h2><p>搜索到内容的同时要把和用户搜索最相关的内容展示在前面，因此需要引入打分规则。</p>
<p>打分规则(_Score)是用于衡量每个文档与查询条件的匹配度的评分机制，搜索结果的默认排序方式是按性关系得分(__Source)从高到低。</p>
<p>采用的是 <strong>BM25</strong> 算法来计算每个文档的得分，是基于词频、反向文档频率、文档长度等因素来评估文档和查询的相关性。</p>
<p>影响得分的主要因素：</p>
<ul>
<li><strong>词频 TF,Term Frequency</strong>：查询词在文档中出现的次数，出现次数越多，得分越高</li>
<li><strong>反向文档频率 IDF,Inverse document frequency</strong>：查询词在文档中出现的频率，词在越少的文档中出现，IDF 值越高，得分越高。</li>
<li><strong>文档长度</strong>：较短的文档被认为更有相关性，因为查询词在短文档中占的比例更大。</li>
</ul>
<h2 id="ES-查询语法"><a href="#ES-查询语法" class="headerlink" title="ES 查询语法"></a>ES 查询语法</h2><p>Elasticsearch 支持多种查询语法，用于不同的场景和需求，主要包括查询 DSL, EQL, SQL 等。</p>
<h3 id="DSL-查询（Domain-Specific-Language）"><a href="#DSL-查询（Domain-Specific-Language）" class="headerlink" title="DSL 查询（Domain Specific Language）"></a>DSL 查询（Domain Specific Language）</h3><p>基于 JSON 的查询语言，是 Elasticsearch 中最常见的查询方式。</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">	<span class="attr">&quot;query&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">		<span class="attr">&quot;match&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">			<span class="attr">&quot;message&quot;</span> <span class="punctuation">:</span> <span class="string">&quot;Elasticsearch 功能性强&quot;</span></span><br><span class="line">		<span class="punctuation">&#125;</span></span><br><span class="line">	<span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<p>查询会对 message 字段进行分词，并查找包括 “Elasticsearch” 和 “功能” 词条的文档。</p>
<h3 id="EQL-Event-Query-Language"><a href="#EQL-Event-Query-Language" class="headerlink" title="EQL Event Query Language"></a>EQL Event Query Language</h3><p>用于检测和检索时间序列 事件 的查询语言，常用于日志和安全监控场景</p>
<h3 id="SQL-查询"><a href="#SQL-查询" class="headerlink" title="SQL 查询"></a>SQL 查询</h3><p>支持传统 SQL 数据库查询语法</p>
<h2 id="Elasticsearch-常见的查询条件"><a href="#Elasticsearch-常见的查询条件" class="headerlink" title="Elasticsearch 常见的查询条件"></a>Elasticsearch 常见的查询条件</h2><table>
<thead>
<tr>
<th>查询条件</th>
<th>介绍</th>
<th>示例</th>
<th>用法</th>
</tr>
</thead>
<tbody><tr>
<td>match</td>
<td>用于全文检索，将查询字符串进行分词并匹配文档中对应的字段</td>
<td></td>
<td>适用于全文检索，分词后匹配文档内容。</td>
</tr>
<tr>
<td>term</td>
<td>精确匹配查询，不进行分词，通常用于结构化数据的精确匹配，如数字，日期，关键字等。</td>
<td></td>
<td>适用于字段的精确匹配，如状态、ID、布尔值等。</td>
</tr>
<tr>
<td>terms</td>
<td>匹配多个值中的任意一个，相当于多个 term 查询的组合</td>
<td></td>
<td>适用于多值匹配的场景。</td>
</tr>
<tr>
<td>range</td>
<td>范围查询，常用于数字，日期字段，支持大于get，小于let，区间等查询</td>
<td></td>
<td>适用于数值或日期的范围查询。</td>
</tr>
<tr>
<td>bool</td>
<td>组合查询，通过 must , should , must_not 等组合多个查询条件</td>
<td></td>
<td>适用于复杂的多条件查询，可以灵活组合。</td>
</tr>
<tr>
<td>wildcard</td>
<td>通配符查询，支持 * 和 ? ，匹配任意字符和匹配单个字符</td>
<td></td>
<td>适用于部分匹配的查询，如模糊搜索。</td>
</tr>
<tr>
<td>prefix</td>
<td>前缀查询，匹配以指定前缀开头的字段内容</td>
<td></td>
<td>适用于查找以指定字符串开头的内容。</td>
</tr>
<tr>
<td>fuzzy</td>
<td>模糊查询，允许指定程度的拼写错误或字符替换</td>
<td></td>
<td>适用于处理拼写错误或不完全匹配的查询。</td>
</tr>
<tr>
<td>exists</td>
<td>查询字段是否存在</td>
<td></td>
<td>适用于查找字段存在或缺失的文档。</td>
</tr>
<tr>
<td>match_phrase</td>
<td>短语匹配查询，要求查询的词语按顺序完全匹配</td>
<td></td>
<td>适用于严格的短语匹配，词语顺序和距离都严格控制。</td>
</tr>
<tr>
<td>match_all</td>
<td>匹配所有文档</td>
<td></td>
<td>适用于查询所有文档，通常与分页配合使用。</td>
</tr>
<tr>
<td>ids</td>
<td>基于文档 ID 查询，支持查询特定 ID 的文档</td>
<td></td>
<td>适用于根据文档 ID 查找特定文档。</td>
</tr>
<tr>
<td>geo_distance</td>
<td>地理位置查询，基于地理坐标和指定距离查询</td>
<td></td>
<td>适用于根据距离计算查找地理位置附近的文档。</td>
</tr>
<tr>
<td>aggregations</td>
<td>聚合查询，用于统计、计算和分组查询，类似于 SQL 中的 group_by</td>
<td></td>
<td>适用于统计和分析数据，比如求和、平均值、最大值等。</td>
</tr>
</tbody></table>
<p><strong>注意</strong>：</p>
<ul>
<li>精确匹配 vs. 全文检索：term 精确匹配，不分词；match 全文检索，会对查询词进行分词</li>
<li>组合查询：bool 查询可以灵活组合多个条件，适用于复杂的查询需求</li>
<li>模糊查询：fuzzy 和 wildcard 提供了灵活的模糊匹配方式，适用于拼写错误或不完全匹配场景。</li>
</ul>
<h2 id="ES-数据同步方案"><a href="#ES-数据同步方案" class="headerlink" title="ES 数据同步方案"></a>ES 数据同步方案</h2><p>一般情况下，如果做查询搜索功能，使用 ES 来模糊搜索，但是数据是存放在数据库 MYSQL 中的，所以需要把 MYSQL 中的数据和 ES 进行同步，保证数据一致（以 MYSQL 为主）</p>
<p>数据流向：MYSQL &#x3D;&gt; ES 单向</p>
<p>数据同步 2 个过程：全量同步（第一次） + 增量同步（更新数据）</p>
<h3 id="4-种主流方案："><a href="#4-种主流方案：" class="headerlink" title="4 种主流方案："></a>4 种主流方案：</h3><h4 id="定时任务"><a href="#定时任务" class="headerlink" title="定时任务"></a>定时任务</h4><p>固定xx分钟同步 1 次</p>
<ul>
<li>优：<ul>
<li>简单、易于开发、部署、维护</li>
<li>占用资源少，无需引入复杂的第三方中间件</li>
<li>不用处理复杂的并发和实时性问题</li>
</ul>
</li>
<li>缺<ul>
<li><strong>有时间差</strong>：无法做到实时同步，数据存在滞后</li>
<li>数据频繁变化时，无法确保数据完全同步，任意出现错过更新的情况</li>
<li>对大数据量的更新处理不够高效，可能会引入重复更新逻辑</li>
</ul>
</li>
<li>场景：<ul>
<li>数据实时性要求不高</li>
<li>数据几乎不发生修改</li>
<li>数据容忍丢失</li>
</ul>
</li>
</ul>
<h4 id="双写"><a href="#双写" class="headerlink" title="双写"></a>双写</h4><p>写数据时，必须同时写 ES；更新删除数据库也同理</p>
<p>可以通过事务保持数据一致性，使用事务时，先保证 MYSQL 写成功，因为 ES 没有回滚功能，可以通过定时任务 + 日志 + 告警进行检测和修复（补偿）</p>
<ul>
<li>优：<ul>
<li>简单，业务逻辑直接控制数据同步</li>
<li>可以利用事务部分保证 MYSQL 和 ES 的数据一致性</li>
<li>同步的时延较短，理论上做到实时更新 ES</li>
</ul>
</li>
<li>缺：<ul>
<li>影响性能，因为操作 MYSQL 时也需要操作 ES。</li>
<li>一致性问题，如果 ES 写入失败，MYSQL 事务提交后，ES 可能丢失数据；或 ES 写入成功，但 MYSQL 事务提交失败，ES 无法回滚。因此需要引入额外的监控、补偿机制来检测同步失败的情况（定时任务、日志和告警修复）</li>
<li>代码复杂，需要对每一个写操作都进行<strong>双写</strong>处理</li>
</ul>
</li>
</ul>
<h4 id="用-Logstash-数据同步管道"><a href="#用-Logstash-数据同步管道" class="headerlink" title="用 Logstash 数据同步管道"></a>用 Logstash 数据同步管道</h4><p>配合 Kafka 信息队列 +  beats 采集器：</p>
<p><img src="https://blog-caigui88.oss-cn-shenzhen.aliyuncs.com/imgs/202503011219736.png" alt="image-20250301121950666"></p>
<ul>
<li><p><strong>优</strong>:</p>
<ul>
<li><strong>配置驱动</strong>：基于配置文件，减少了手动编码，数据同步逻辑和业务代码解耦。</li>
<li><strong>扩展性好</strong>：可以灵活引入 Kafka 等消息队列实现异步数据同步，并可处理高吞吐量数据。</li>
<li>支持多种数据源：Logstash 支持丰富的数据源，方便扩展其他同步需求。</li>
</ul>
</li>
<li><p><strong>缺</strong>:</p>
<ul>
<li><strong>灵活性差</strong>：需要通过配置文件进行同步，复杂的业务逻辑可能难以在配置中实现，无法处理细粒度的定制化需求。</li>
<li>引入额外组件，维护成本高:通常需要引入 Kafka、Beats 等第三方组件，增加了系统的复杂性和运维成本。</li>
</ul>
</li>
<li><p>应用场景:</p>
<ul>
<li><strong>大数据同步</strong>：适合大规模、分布式数据同步场景。</li>
<li><strong>对实时性要求不高</strong>适合数据流处理或延迟容忍较大的系统,</li>
<li>系统已有 Kafka 或类似的消息队列架构:如果系统中已经使用了 Kafka 等中间件，使用 Logstash 管道会变得很方便。</li>
</ul>
</li>
</ul>
<h4 id="监听-MYSQL-Binlog"><a href="#监听-MYSQL-Binlog" class="headerlink" title="监听 MYSQL Binlog"></a>监听 MYSQL Binlog</h4><p>有任何数据变更时都能够实时监听到，并且同步到 Elasticsearch，一般不需要自己监听，可以使用现成的技术，如 Canal。</p>
<p><img src="https://blog-caigui88.oss-cn-shenzhen.aliyuncs.com/imgs/202503011225501.png" alt="image-20250301122512429"></p>
<p>Canal 核心原理：数据库每次修改时，会修改 binlog 文件，只需要监听文件的修改，就能第一时间得到信息并处理</p>
<ul>
<li>优：<ul>
<li><strong>实时性强</strong>：能够在 MYSQL 数据发生变更的第一时间同步到 ES，做到真正的实时同步</li>
<li>轻量级：Binlog 时数据库自带的日志功能，不需要修改核心业务代码，只需要新增监听逻辑</li>
</ul>
</li>
<li>缺：<ul>
<li>引入外部依赖：需要引入像 Canal 这类中间件，增加了系统复杂性和维护成本</li>
<li>运维难度增加：需要确保 Canal 或其他监听器的稳定运行，并且对 MYSQL 的 binlog 配置要求较高</li>
<li>一致性问题：如果 Canal 服务出现问题或暂停，数据可能会滞后或丢失，必须设计补偿机制。</li>
</ul>
</li>
<li>场景：<ul>
<li>实时同步要求高：高并发，高数据一致性要求</li>
<li>数据频繁变化：数据变更频繁且需要高效增量同步</li>
</ul>
</li>
</ul>
<h2 id="分词器"><a href="#分词器" class="headerlink" title="分词器"></a>分词器</h2><p>ES 自带的分词器只支持英文分词，因此需要多安装一个中文分词器 IK 分词器，IK 分词器提供了两个分词器： ik_smart 和 ik_max_word。</p>
<ul>
<li>ik_smart 是智能分词，尽量选择最像 “词” 的拆分方式，如：“好学生” 会被识别为一个词。<ul>
<li>适用于<strong>搜索分词</strong>，即查询时使用，保证性能同时提供合理的分词精度。</li>
</ul>
</li>
<li>ik_max_word 是尽可能分词，可以包括组合词，比如：“好学生” 会被识别为 3 个词：好学生，好学，学生<ul>
<li>适用于<strong>底层索引分词</strong>，确保在建立索引时尽可能多地分词，提高查询时的匹配度和覆盖面。</li>
</ul>
</li>
</ul>
<p>更多详见<a target="_blank" rel="noopener" href="https://github.com/infinilabs/analysis-ik">analysis-ik 官方文档</a>。</p>
<h2 id="设计-ES-索引"><a href="#设计-ES-索引" class="headerlink" title="设计 ES 索引"></a>设计 ES 索引</h2><p>为了将 MySQL 题目表数据导入到 Elasticsearch 中并实现分词搜索,需要为 ES 索引定义 mapping。ES 的 mapping 用于定义字段的类型、分词器及其索引方式。<br>相当于数据库的建表，数据库建表时我们要考虑索引，同样 Elasticsearch 建立索引时，要考虑到字段选取、分词器、字段格式等问题。</p>
<p>在实际操作中即根据数据库表的字段去设计 mapping ，</p>
<ol>
<li>考虑哪些字段需要作为 mapping 里的一个 properties。</li>
<li>考虑作为 properties 的字段的 “type”，“analyzer”，“search_analyzer”（在使用 IK 分词器时，则是建立索引用 ik_max_word，查询用 ik_smart）</li>
</ol>
<p>在面试鸭项目中 ，建立题目 mapping 如下：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;mappings&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;properties&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;title&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;text&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;analyzer&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ik_max_word&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;search_analyzer&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ik_smart&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;fields&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">          <span class="attr">&quot;keyword&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;keyword&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;ignore_above&quot;</span><span class="punctuation">:</span> <span class="number">256</span></span><br><span class="line">          <span class="punctuation">&#125;</span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;content&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;text&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;analyzer&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ik_max_word&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;search_analyzer&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ik_smart&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;tags&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;keyword&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;answer&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;text&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;analyzer&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ik_max_word&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;search_analyzer&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ik_smart&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;userId&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;long&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;editTime&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;date&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;format&quot;</span><span class="punctuation">:</span> <span class="string">&quot;yyyy-MM-dd HH:mm:ss&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;createTime&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;date&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;format&quot;</span><span class="punctuation">:</span> <span class="string">&quot;yyyy-MM-dd HH:mm:ss&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;updateTime&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;date&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;format&quot;</span><span class="punctuation">:</span> <span class="string">&quot;yyyy-MM-dd HH:mm:ss&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;isDelete&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;keyword&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>注意事项</strong>：</p>
<ul>
<li><p>title，content，answer：</p>
<p>这些字段被定义为 text 类型，适合存储较长的、需要全文搜索的内容。由于会有中文内容，所以使用 IK 中文分词器进行分词处理，提高查询的灵活性和匹配度。</p>
<ul>
<li><code>&quot;analyzer&quot;: &quot;ik_max_word&quot;</code>：用于索引时进行最大粒度的分词，生成较多词语，适合查询时提高召回率。</li>
<li><code>&quot;search_analyzer&quot;: &quot;ik_smart&quot;</code>：用于搜索时进行较智能的分词，生成较少的词语，用于提高搜索精度。</li>
</ul>
</li>
<li><p>使用 title.keyword：为 title 字段增加一个子字段 keyword，用于存储未分词的标题，支持精确匹配。还配置了 ignore_above: 256，表示如果 title 字段长度超过 256 个字符，将不会为 keyword 字段进行索引，避免过长文本导致性能问题。</p>
</li>
<li><p>tags：标签通常是预定义的、用于分类或标签筛选的关键字，通常不需要分词。设置为 keyword 类型以便支持精确匹配和聚合操作(例如统计某标签的出现频次)。 keyword 不进行分词，因此适合存储不变的、结构化的数据。</p>
</li>
<li><p>userid:用来唯一标识用户的数值字段。在 Elasticsearch 中，数值类型(如 1ong)非常适合用于精确査询、排序和范围过滤。与字符串相比，数值类型的查询和存储效率更高，尤其是对于大量用户数据的查询。</p>
</li>
<li><p>editTime、createTime、updateTime:时间字段被定义为 date 类型，并指定了格式 “yyyy-MM-dd HH:mm:ss”。这样做的好处是 Elasticsearch 可以基于这些字段进行时间范围査询、排序和聚合操作，如按时间过滤或统计某时间段的数据。</p>
</li>
<li><p>isDelete:使用 keyword 类型，表示是否被删除。 因为 keyword 是为精确匹配设计的，适用于枚举值精确查询的场景，性能好且清晰。</p>
<p>为什么不用 boolean 类型呢？因为 MySQL数据库存储的是 0 和 1，写入 ES 时需要转换类型。</p>
</li>
</ul>
<h3 id="无需显式指定-id-字段"><a href="#无需显式指定-id-字段" class="headerlink" title="无需显式指定 id 字段"></a>无需显式指定 id 字段</h3><p>Elasticsearch 中，每个文档都有一个唯一的 _id 字段来标识文档，该字段用于文档的主键索引和唯一标识，通常开发者无需显式定义 id 字段（也可以在插入数据时手动指定 _id）。</p>
<h3 id="tags-支持数组"><a href="#tags-支持数组" class="headerlink" title="tags 支持数组"></a>tags 支持数组</h3><p>Elasticsearch 中，所有到字段类型（包括 keyword 和 text）都默认支持数组。可以直接插入一个包含多个值的数组，Elasticsearch 会自动将其视为多个值的集合。</p>
<p>查询时，Elasticsearch 会将数组中的每个值视为独立的 keyword ，可以进行精确匹配。</p>
<h2 id="扩展"><a href="#扩展" class="headerlink" title="扩展"></a>扩展</h2><h3 id="TODO-根据具体业务自定义-ES-词典，提高分词准确度"><a href="#TODO-根据具体业务自定义-ES-词典，提高分词准确度" class="headerlink" title="TODO 根据具体业务自定义 ES 词典，提高分词准确度"></a>TODO 根据具体业务自定义 ES 词典，提高分词准确度</h3><p>根据官方文档，得知只需在文件 <code>IKAnalyzer.cfg.xml</code> 中添加词典即可根据业务定义 IK 分词词典，提高分词准确度</p>
<p><img src="https://blog-caigui88.oss-cn-shenzhen.aliyuncs.com/imgs/202503011225011.png" alt="image-20250301122540945"></p>
<p>如上我添加了词典 <code>monkey.dic</code> 内容如下：</p>
<p><img src="https://blog-caigui88.oss-cn-shenzhen.aliyuncs.com/imgs/202503011225452.png" alt="image-20250301122533399"></p>
<p>分词效果由原来的：</p>
<p><img src="https://blog-caigui88.oss-cn-shenzhen.aliyuncs.com/imgs/202503011225028.png" alt="image-20250222160004958"></p>
<p>修正为：</p>
<p><img src="https://blog-caigui88.oss-cn-shenzhen.aliyuncs.com/imgs/202503011226058.png" alt="image-20250222155915135"></p>
<h3 id="TODO-使用-ES-查询时，关联获取题目的动态数据"><a href="#TODO-使用-ES-查询时，关联获取题目的动态数据" class="headerlink" title="TODO 使用 ES 查询时，关联获取题目的动态数据"></a>TODO 使用 ES 查询时，关联获取题目的动态数据</h3><p>首先从 es 读取数据，而后对 es 读取的数据进行校验和更新，如果有需要进行修改的数据也可以在迭代器中进一步进行修改，从而达到获取题目的动态数据。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 复用 MySQL / MyBatis Plus 的分页对象，封装返回结果</span></span><br><span class="line">        Page&lt;Question&gt; page = <span class="keyword">new</span> <span class="title class_">Page</span>&lt;&gt;();</span><br><span class="line">        List&lt;Question&gt; resourceList = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">if</span> (searchHits.hasSearchHits()) &#123;</span><br><span class="line">            List&lt;SearchHit&lt;QuestionEsDTO&gt;&gt; searchHitList = searchHits.getSearchHits();</span><br><span class="line">            List&lt;Long&gt; questionIdList = searchHitList.stream()</span><br><span class="line">                    .map(searchHit -&gt; searchHit.getContent().getId())</span><br><span class="line">                    .collect(Collectors.toList());</span><br><span class="line">            List&lt;Question&gt; questionList = questionMapper.selectBatchIds(questionIdList);</span><br><span class="line">            <span class="keyword">if</span>(questionList != <span class="literal">null</span>)&#123;</span><br><span class="line">                <span class="comment">// 建立 Map 快速确认 es 是否有滞后数据</span></span><br><span class="line">                Map&lt;Long, List&lt;Question&gt;&gt; idQuestionMap = questionList.stream().collect(Collectors.groupingBy(Question::getId));</span><br><span class="line"></span><br><span class="line">                Iterator&lt;SearchHit&lt;QuestionEsDTO&gt;&gt; iterator = searchHitList.iterator();</span><br><span class="line">                <span class="keyword">while</span> (iterator.hasNext())&#123;</span><br><span class="line">                    SearchHit&lt;QuestionEsDTO&gt; searchHit = iterator.next();</span><br><span class="line">                    <span class="type">Long</span> <span class="variable">questionId</span> <span class="operator">=</span> searchHit.getContent().getId();</span><br><span class="line">                    <span class="keyword">if</span>(idQuestionMap.containsKey(questionId))&#123;</span><br><span class="line">                        <span class="type">Question</span> <span class="variable">question</span> <span class="operator">=</span> idQuestionMap.get(questionId).get(<span class="number">0</span>);</span><br><span class="line">                        <span class="keyword">if</span>(question.getIsDelete().equals(<span class="number">0</span>))</span><br><span class="line">                            log.info(<span class="string">&quot;实时更新数据&quot;</span>);</span><br><span class="line">                        <span class="keyword">else</span>&#123;</span><br><span class="line">                            iterator.remove();</span><br><span class="line">                            <span class="type">String</span> <span class="variable">delete</span> <span class="operator">=</span> elasticsearchRestTemplate.delete(String.valueOf(questionId), QuestionEsDTO.class);</span><br><span class="line">                            log.info(<span class="string">&quot;数据已被软删除，delete question &#123;&#125;&quot;</span>, delete);</span><br><span class="line"></span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="comment">//如果被物理或逻辑删除，则需要从 es 中删除滞后的数据</span></span><br><span class="line">                    <span class="keyword">else</span> &#123;</span><br><span class="line">                        iterator.remove();</span><br><span class="line">                        <span class="type">String</span> <span class="variable">delete</span> <span class="operator">=</span> elasticsearchRestTemplate.delete(String.valueOf(questionId), QuestionEsDTO.class);</span><br><span class="line">                        log.info(<span class="string">&quot;数据已被硬删除，delete question &#123;&#125;&quot;</span>, delete);</span><br><span class="line"></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                questionIdList.forEach( questionId -&gt;&#123;</span><br><span class="line">                &#125;);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">for</span> (SearchHit&lt;QuestionEsDTO&gt; questionEsDTOSearchHit : searchHitList) &#123;</span><br><span class="line">                resourceList.add(QuestionEsDTO.dtoToObj(questionEsDTOSearchHit.getContent()));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>



<h3 id="TODO-ES-接口支持降级"><a href="#TODO-ES-接口支持降级" class="headerlink" title="TODO ES 接口支持降级"></a>TODO ES 接口支持降级</h3><h3 id="TODO-防止重复执行定时任务"><a href="#TODO-防止重复执行定时任务" class="headerlink" title="TODO 防止重复执行定时任务"></a>TODO 防止重复执行定时任务</h3>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2025/03/01/%E5%90%8E%E7%AB%AF/%E4%B8%AD%E9%97%B4%E4%BB%B6%E5%AD%A6%E4%B9%A0/elasticsearch%E5%AD%A6%E4%B9%A0/" data-id="cm7pquzik003ir8v2a85lds5a" data-title="elasticsearch学习" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/elasticsearch/" rel="tag">elasticsearch</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2025/03/01/%E5%90%8E%E7%AB%AF/Java%E5%BA%95%E5%B1%82/JVM/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          JVM相关内容
        
      </div>
    </a>
  
  
    <a href="/2025/03/01/%E5%89%8D%E7%AB%AF/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">微信小程序开发初步了解</div>
    </a>
  
</nav>

  
</article>


</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Java/">Java</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/leetcode%E5%88%B7%E9%A2%98/">leetcode刷题</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/spring/">spring</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/typora/">typora</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%89%8D%E7%AB%AF%E5%9F%BA%E7%A1%80/">前端基础</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%A4%A7%E5%AD%A6%E5%85%AC%E5%85%B1%E5%9F%BA%E7%A1%80%E8%AF%BE/">大学公共基础课</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%AD%A6%E4%B9%A0%E8%A7%84%E5%88%92%E8%B7%AF%E7%BA%BF/">学习规划路线</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%B7%A5%E5%85%B7/">工具</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/">开发工具</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91/">微信小程序开发</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/">数据库</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%BB%8F%E5%85%B8%E7%AE%97%E6%B3%95/">经典算法</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E9%87%8D%E8%A6%81%E5%9F%BA%E7%A1%80/">计算机重要基础</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%AE%BE%E8%AE%A1%E6%9E%B6%E6%9E%84/">设计架构</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E9%BB%91%E9%A9%AC-%E5%90%8E%E7%AB%AF/">黑马:后端</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/JDBC/" rel="tag">JDBC</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java/" rel="tag">Java</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MySQL/" rel="tag">MySQL</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Mybatis/" rel="tag">Mybatis</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SQL/" rel="tag">SQL</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Vue%E5%9F%BA%E7%A1%80/" rel="tag">Vue基础</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/docker/" rel="tag">docker</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/elasticsearch/" rel="tag">elasticsearch</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/" rel="tag">git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/github/" rel="tag">github</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/html%E5%9F%BA%E7%A1%80/" rel="tag">html基础</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java/" rel="tag">java</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java%E5%BA%95%E5%B1%82/" rel="tag">java底层</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java%E6%A1%86%E6%9E%B6/" rel="tag">java框架</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/js%E5%9F%BA%E7%A1%80/" rel="tag">js基础</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/juc/" rel="tag">juc</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/leetcode/" rel="tag">leetcode</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/" rel="tag">linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/markdown/" rel="tag">markdown</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/maven/" rel="tag">maven</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/redis/" rel="tag">redis</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/spring/" rel="tag">spring</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%85%B3%E7%B3%BB%E5%9E%8B/" rel="tag">关系型</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%88%B7%E9%A2%98/" rel="tag">刷题</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%89%8D%E7%AB%AF/" rel="tag">前端</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8D%95%E4%BD%93%E6%9E%B6%E6%9E%84/" rel="tag">单体架构</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%90%8E%E7%AB%AF/" rel="tag">后端</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%9F%BA%E7%A1%80/" rel="tag">基础</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%A4%A7%E5%AD%A6%E4%B8%93%E4%B8%9A%E8%AF%BE/" rel="tag">大学专业课</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%AD%A6%E4%B9%A0/" rel="tag">学习</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%AD%A6%E4%B9%A0%E8%A7%84%E5%88%92/" rel="tag">学习规划</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%B7%A5%E5%85%B7/" rel="tag">工具</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/" rel="tag">微信小程序</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%83%B3%E6%B3%95/" rel="tag">想法</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/" rel="tag">操作系统</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/" rel="tag">数据库</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/" rel="tag">期末复习</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%A6%BB%E6%95%A3%E6%95%B0%E5%AD%A6/" rel="tag">离散数学</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%AE%97%E6%B3%95/" rel="tag">算法</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/" rel="tag">编译原理</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%9B%E5%A4%A7%E4%BB%B6/" rel="tag">计算机四大件</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" rel="tag">计算机网络</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AE%BE%E8%AE%A1%E6%9E%B6%E6%9E%84/" rel="tag">设计架构</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%BD%AF%E4%BB%B6%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1/" rel="tag">软件架构设计</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%BD%AF%E4%BB%B6%E8%AE%BE%E8%AE%A1/" rel="tag">软件设计</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%BD%AF%E4%BB%B6%E9%A1%B9%E7%9B%AE%E7%AE%A1%E7%90%86/" rel="tag">软件项目管理</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%97%B2%E6%9D%82%E7%BB%8F%E9%AA%8C/" rel="tag">闲杂经验</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%9D%9E%E5%85%B3%E7%B3%BB%E5%9E%8B/" rel="tag">非关系型</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%AB%98%E9%98%B6/" rel="tag">高阶</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%BB%91%E9%A9%AC/" rel="tag">黑马</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/JDBC/" style="font-size: 11.67px;">JDBC</a> <a href="/tags/Java/" style="font-size: 16.67px;">Java</a> <a href="/tags/MySQL/" style="font-size: 10px;">MySQL</a> <a href="/tags/Mybatis/" style="font-size: 10px;">Mybatis</a> <a href="/tags/SQL/" style="font-size: 10px;">SQL</a> <a href="/tags/Vue%E5%9F%BA%E7%A1%80/" style="font-size: 10px;">Vue基础</a> <a href="/tags/docker/" style="font-size: 10px;">docker</a> <a href="/tags/elasticsearch/" style="font-size: 10px;">elasticsearch</a> <a href="/tags/git/" style="font-size: 10px;">git</a> <a href="/tags/github/" style="font-size: 10px;">github</a> <a href="/tags/html%E5%9F%BA%E7%A1%80/" style="font-size: 10px;">html基础</a> <a href="/tags/java/" style="font-size: 11.67px;">java</a> <a href="/tags/java%E5%BA%95%E5%B1%82/" style="font-size: 10px;">java底层</a> <a href="/tags/java%E6%A1%86%E6%9E%B6/" style="font-size: 10px;">java框架</a> <a href="/tags/js%E5%9F%BA%E7%A1%80/" style="font-size: 10px;">js基础</a> <a href="/tags/juc/" style="font-size: 10px;">juc</a> <a href="/tags/leetcode/" style="font-size: 10px;">leetcode</a> <a href="/tags/linux/" style="font-size: 10px;">linux</a> <a href="/tags/markdown/" style="font-size: 10px;">markdown</a> <a href="/tags/maven/" style="font-size: 10px;">maven</a> <a href="/tags/redis/" style="font-size: 10px;">redis</a> <a href="/tags/spring/" style="font-size: 10px;">spring</a> <a href="/tags/%E5%85%B3%E7%B3%BB%E5%9E%8B/" style="font-size: 10px;">关系型</a> <a href="/tags/%E5%88%B7%E9%A2%98/" style="font-size: 10px;">刷题</a> <a href="/tags/%E5%89%8D%E7%AB%AF/" style="font-size: 11.67px;">前端</a> <a href="/tags/%E5%8D%95%E4%BD%93%E6%9E%B6%E6%9E%84/" style="font-size: 11.67px;">单体架构</a> <a href="/tags/%E5%90%8E%E7%AB%AF/" style="font-size: 16.67px;">后端</a> <a href="/tags/%E5%9F%BA%E7%A1%80/" style="font-size: 11.67px;">基础</a> <a href="/tags/%E5%A4%A7%E5%AD%A6%E4%B8%93%E4%B8%9A%E8%AF%BE/" style="font-size: 15px;">大学专业课</a> <a href="/tags/%E5%AD%A6%E4%B9%A0/" style="font-size: 10px;">学习</a> <a href="/tags/%E5%AD%A6%E4%B9%A0%E8%A7%84%E5%88%92/" style="font-size: 11.67px;">学习规划</a> <a href="/tags/%E5%B7%A5%E5%85%B7/" style="font-size: 18.33px;">工具</a> <a href="/tags/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/" style="font-size: 10px;">微信小程序</a> <a href="/tags/%E6%83%B3%E6%B3%95/" style="font-size: 10px;">想法</a> <a href="/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/" style="font-size: 10px;">操作系统</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/" style="font-size: 16.67px;">数据库</a> <a href="/tags/%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/" style="font-size: 20px;">期末复习</a> <a href="/tags/%E7%A6%BB%E6%95%A3%E6%95%B0%E5%AD%A6/" style="font-size: 10px;">离散数学</a> <a href="/tags/%E7%AE%97%E6%B3%95/" style="font-size: 10px;">算法</a> <a href="/tags/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/" style="font-size: 10px;">编译原理</a> <a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%9B%E5%A4%A7%E4%BB%B6/" style="font-size: 13.33px;">计算机四大件</a> <a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" style="font-size: 10px;">计算机网络</a> <a href="/tags/%E8%AE%BE%E8%AE%A1%E6%9E%B6%E6%9E%84/" style="font-size: 10px;">设计架构</a> <a href="/tags/%E8%BD%AF%E4%BB%B6%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1/" style="font-size: 10px;">软件架构设计</a> <a href="/tags/%E8%BD%AF%E4%BB%B6%E8%AE%BE%E8%AE%A1/" style="font-size: 10px;">软件设计</a> <a href="/tags/%E8%BD%AF%E4%BB%B6%E9%A1%B9%E7%9B%AE%E7%AE%A1%E7%90%86/" style="font-size: 10px;">软件项目管理</a> <a href="/tags/%E9%97%B2%E6%9D%82%E7%BB%8F%E9%AA%8C/" style="font-size: 10px;">闲杂经验</a> <a href="/tags/%E9%9D%9E%E5%85%B3%E7%B3%BB%E5%9E%8B/" style="font-size: 10px;">非关系型</a> <a href="/tags/%E9%AB%98%E9%98%B6/" style="font-size: 10px;">高阶</a> <a href="/tags/%E9%BB%91%E9%A9%AC/" style="font-size: 11.67px;">黑马</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/03/">March 2025</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/03/">March 2024</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2025/03/01/%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/markdown%E8%AF%AD%E6%B3%95/">markdown语法</a>
          </li>
        
          <li>
            <a href="/2025/03/01/%E5%8A%9B%E6%89%A3%E5%88%B7%E9%A2%98/%E7%BB%8F%E5%85%B8%E7%AE%97%E6%B3%95/">经典算法学习</a>
          </li>
        
          <li>
            <a href="/2025/03/01/%E5%8A%9B%E6%89%A3%E5%88%B7%E9%A2%98/LeetCode/">Leetcode刷题题解</a>
          </li>
        
          <li>
            <a href="/2025/03/01/%E8%AF%BE%E7%A8%8B%E5%AD%A6%E4%B9%A0/%E8%AE%A1%E7%AE%97%E6%9C%BA%E9%87%8D%E8%A6%81%E5%9F%BA%E7%A1%80/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/">计算机网络学习</a>
          </li>
        
          <li>
            <a href="/2025/03/01/%E8%AF%BE%E7%A8%8B%E5%AD%A6%E4%B9%A0/%E8%AE%A1%E7%AE%97%E6%9C%BA%E9%87%8D%E8%A6%81%E5%9F%BA%E7%A1%80/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86%E5%AD%A6%E4%B9%A0/">计算机组成原理</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2025 John Doe<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.6.4.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>